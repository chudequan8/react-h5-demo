{"version":3,"sources":["fetch.js","App.js","api/index.js","mock/modules/index.js","mock/modules/income.js","mock/index.js","index.js"],"names":["axios","interceptors","request","use","config","err","Promise","reject","response","data","searchParams","searchStrArr","window","location","search","split","forEach","str","temp","App","props","state","pageData","isChecked","isNewUser","applyUrl","appCode","mobile","sceneId","userId","showModel","productList","showFooter","params","T","loading","this","fetch","url","method","useLoading","then","res","loaded","setState","retData","appName","appLabel","appDesc","appInstitutionMobile","appLogo","appProtocolUrl","defaultLoanAmount","defaultLoanCycle","defaultLoanPeriods","leastAmount","loanAmount","loanCondition","loanInterestRate","maxLoanPeriods","minLoanPeriods","document","title","initTermSelect","initFooterVisible","notify","_this","minTerm","maxTerm","dataArr","i","j","push","MobileSelect","trigger","wheels","position","callback","Number","getCurValue","onShow","locatePosition","findIndex","item","onHide","originalHeight","documentElement","clientHeight","body","isAndroid","test","navigator","userAgent","addEventListener","activeElement","blur","val","alert","message","getRecommendProduct","retCode","filter","slice","retMsg","className","src","alt","map","label","key","RenderAmount","emitAmountChange","bind","id","InterestAndRepayment","amount","term","interesRate","length","condition","onClick","href","handleApply","RecommendProductModel","handleModelClose","Component","count","countStrArr","toFixed","toString","repayment","RenderQuota","min","max","unitMap","formatAmount","n","l","minText","maxText","product","index","type","Math","useState","setAmount","value","pattern","onChange","e","target","onBlur","newAmount","handleAmountChange","onKeyPress","keyCode","handleKeyPress","nativeEvent","income","reg","code","msg","heihei","Mock","require","Object","keys","mockMap","moduleKey","mod","ruleKey","mock","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a05789e8.chunk.js","sourcesContent":["import axios from 'axios'\n// import { T } from \"react-toast-mobile\";\n\naxios.interceptors.request.use(\n  config => {\n    return config\n  },\n  err => {\n    return Promise.reject(err)\n  }\n)\n\naxios.interceptors.response.use(\n  response => {\n    return response.data\n  },\n  err => {\n    return Promise.reject(err)\n  }\n)\n\nexport default axios\n","import React, { Component, useState } from \"react\";\nimport MobileSelect from \"mobile-select\";\nimport { T } from \"react-toast-mobile\";\nimport {\n  getDetailData,\n  fetchRecommendProduct\n} from \"./api\";\n\nconst searchStrArr = (window.location.search.split(\"?\")[1] || \"\").split(\"&\");\nlet searchParams;\nif (searchStrArr[0]) {\n  searchParams = {};\n  searchStrArr.forEach(str => {\n    let temp = str.split(\"=\");\n    searchParams[temp[0]] = temp[1];\n  });\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageData: {},\n      isChecked: true,\n      isNewUser: false,\n      applyUrl: \"\",\n      appCode: searchParams[\"appCode\"],\n      mobile: searchParams[\"mobile\"],\n      sceneId: searchParams[\"sceneId\"],\n      userId: searchParams[\"userId\"],\n      showModel: false,\n      productList: [],\n      showFooter: true\n    };\n  }\n\n  componentDidMount() {\n    if (!searchParams || !searchParams.appCode) {\n      T.notify(\"请通过正确的链接访问本页面\");\n    } else {\n      T.loading();\n      getDetailData({\n        appCode: this.state.appCode\n      }).then(res => {\n        T.loaded();\n        this.setState(\n          {\n            pageData: res.retData || {\n              appCode: searchParams[\"appCode\"],\n              appName: \"\",\n              appLabel: \"\",\n              appDesc: \"\",\n              appInstitutionMobile: \"\",\n              appLogo: \"\",\n              appProtocolUrl: \"\",\n              defaultLoanAmount: 0,\n              defaultLoanCycle: \"M\",\n              defaultLoanPeriods: 12,\n              leastAmount: 0,\n              loanAmount: 0,\n              loanCondition: [],\n              loanInterestRate: 0,\n              maxLoanPeriods: 12,\n              minLoanPeriods: 1\n            }\n          },\n          () => {\n            if (this.state.pageData.appName) {\n              document.title = this.state.pageData.appName;\n            }\n            this.initTermSelect();\n            this.initFooterVisible();\n          }\n        );\n      });\n    }\n  }\n\n  initTermSelect() {\n    let _this = this;\n    let minTerm = _this.state.pageData.minLoanPeriods || 0;\n    let maxTerm = _this.state.pageData.maxLoanPeriods || 0;\n    let dataArr = [];\n    for (let i = 0, j = maxTerm - minTerm; i <= j; i++) {\n      dataArr.push(i + minTerm);\n    }\n    new MobileSelect({\n      trigger: \"#term-select\",\n      title: \"选择期限\",\n      wheels: [{ data: dataArr }],\n      position: [2],\n      callback() {\n        _this.setState({\n          pageData: {\n            ..._this.state.pageData,\n            defaultLoanPeriods: Number(this.getCurValue()[0])\n          }\n        });\n      },\n      onShow() {\n        this.locatePosition(\n          0,\n          dataArr.findIndex(\n            item => _this.state.pageData.defaultLoanPeriods === item\n          )\n        );\n      },\n      onHide() {}\n    });\n  }\n\n  initFooterVisible() {\n    const originalHeight =\n      document.documentElement.clientHeight || document.body.clientHeight;\n    const isAndroid = /android/i.test(window.navigator.userAgent);\n    window.addEventListener(\"resize\", () => {\n      const resizeHeight =\n        document.documentElement.clientHeight || document.body.clientHeight;\n      if (resizeHeight - 0 < originalHeight - 0) {\n        //当软键盘弹起，在此处操作\n        this.setState({\n          showFooter: false\n        });\n      } else {\n        this.setState({\n          showFooter: true\n        });\n        //当软键盘收起，在此处操作\n        if (isAndroid) {\n          document.activeElement && document.activeElement.blur();\n        }\n      }\n    });\n  }\n\n  emitAmountChange(val) {\n    this.setState({\n      pageData: {\n        ...this.state.pageData,\n        defaultLoanAmount: Number(val)\n      }\n    });\n  }\n\n  handleApply() {\n    if (!this.state.isChecked) {\n      T.alert({\n        title: \"温馨提示\",\n        message: \"请您先同意用户注册协议\"\n      });\n      return false;\n    }\n    this.getRecommendProduct();\n  }\n\n  getRecommendProduct() {\n    T.loading();\n    fetchRecommendProduct({\n      sceneId: this.state.sceneId,\n      userId: this.state.userId\n    }).then(res => {\n      T.loaded();\n      if (res.retCode === \"0000\") {\n        this.setState({\n          showModel: true,\n          productList: (res.retData || [])\n            .filter(item => item.appCode !== this.state.appCode)\n            .slice(0, 3)\n        });\n      } else {\n        T.notify(res.retMsg || \"获取产品列表失败\");\n      }\n    });\n  }\n\n  handleModelClose() {\n    this.setState({\n      showModel: false\n    });\n  }\n\n  render() {\n    const pageData = this.state.pageData;\n    if (pageData.appCode) {\n      return (\n        <div className=\"app\">\n          <header className=\"rent-header\">\n            <div className=\"rent-logo\">\n              <img className=\"rent-logo-pic\" src={pageData.appLogo} alt=\"\" />\n            </div>\n            <div className=\"rent-header-content\">\n              <p className=\"rent-title\">{pageData.appName}</p>\n              <p>\n                {(pageData.appLabel || \"\").split(\"，\").map(label => {\n                  return (\n                    <span className=\"rent-tag\" key={label}>\n                      {label}\n                    </span>\n                  );\n                })}\n              </p>\n            </div>\n          </header>\n          <section className=\"rent-info-card\">\n            <div className=\"user-handle\">\n              <div className=\"user-handle-item amount\">\n                <p className=\"rent-info-title\">金额(元)</p>\n                <RenderAmount\n                  data={pageData}\n                  emitAmountChange={this.emitAmountChange.bind(this)}\n                ></RenderAmount>\n              </div>\n              <div className=\"user-handle-item term\">\n                <p className=\"rent-info-title\">期限(月)</p>\n                <p className=\"user-handle-input\" id=\"term-select\">\n                  {pageData.defaultLoanPeriods}\n                </p>\n              </div>\n            </div>\n            <div className=\"calc-container\">\n              <InterestAndRepayment\n                amount={pageData.defaultLoanAmount}\n                term={pageData.defaultLoanPeriods}\n                interesRate={pageData.loanInterestRate}\n              />\n              <div className=\"calc-item\">\n                <p className=\"calc-amount\">\n                  {pageData.loanInterestRate}\n                  <span className=\"calc-amount-unit\">%</span>\n                </p>\n                <p className=\"rent-info-title\">参考日利率</p>\n              </div>\n            </div>\n          </section>\n          <section className=\"product-info-list\">\n            {pageData.loanCondition && pageData.loanCondition.length ? (\n              <div className=\"product-info-item\">\n                <h3 className=\"product-info-title\">申请条件</h3>\n                <div className=\"product-info-content condition-list\">\n                  {pageData.loanCondition.map(condition => (\n                    <div className=\"condition-item\" key={condition}>\n                      {condition}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ) : null}\n            {pageData.appDesc ? (\n              <div className=\"product-info-item\">\n                <h3 className=\"product-info-title\">产品介绍</h3>\n                <div className=\"product-info-content\">{pageData.appDesc}</div>\n              </div>\n            ) : null}\n            {pageData.appInstitutionMobile ? (\n              <div className=\"product-info-item\">\n                <h3 className=\"product-info-title\">机构电话</h3>\n                <div className=\"product-info-content\">\n                  {pageData.appInstitutionMobile}\n                </div>\n              </div>\n            ) : null}\n          </section>\n          {this.state.showFooter ? (\n            <footer className=\"rent-footer\">\n              {pageData.appProtocolUrl ? (\n                <p className=\"rent-agreement\">\n                  <button\n                    className={\n                      this.state.isChecked\n                        ? \"rent-agreement-icon checked\"\n                        : \"rent-agreement-icon\"\n                    }\n                    onClick={() =>\n                      this.setState({\n                        isChecked: !this.state.isChecked\n                      })\n                    }\n                  ></button>\n                  <span>我已同意并阅读</span>\n                  <a\n                    className=\"rent-agreement-link\"\n                    href={pageData.appProtocolUrl}\n                  >\n                    《用户注册协议》\n                  </a>\n                </p>\n              ) : null}\n              <button className=\"apply-btn\" onClick={() => this.handleApply()}>\n                立即申请\n              </button>\n            </footer>\n          ) : null}\n          <RecommendProductModel\n            showModel={this.state.showModel}\n            productList={this.state.productList}\n            handleModelClose={this.handleModelClose.bind(this)}\n            userId={this.state.userId}\n            appCode={this.state.appCode}\n            sceneId={this.state.sceneId}\n          />\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default App;\n\nfunction InterestAndRepayment(props) {\n  const { amount, term, interesRate } = props;\n  const count = (amount * term * 30 * interesRate) / 100;\n  const countStrArr = count\n    .toFixed(2)\n    .toString()\n    .split(\".\");\n  const repayment = ((amount + count) / term)\n    .toFixed(2)\n    .toString()\n    .split(\".\");\n  return (\n    <>\n      <div className=\"calc-item\">\n        <p className=\"calc-amount\">\n          {countStrArr[0]}\n          <span className=\"calc-amount-unit\">.{countStrArr[1]}</span>\n        </p>\n        <p className=\"rent-info-title\">预估利息</p>\n      </div>\n      <div className=\"calc-item\">\n        <p className=\"calc-amount\">\n          {repayment[0]}\n          <span className=\"calc-amount-unit\">.{repayment[1]}</span>\n        </p>\n        <p className=\"rent-info-title\">月均还款</p>\n      </div>\n    </>\n  );\n}\n\nfunction RecommendProductModel(props) {\n  const {\n    showModel,\n    handleModelClose,\n    productList,\n    userId,\n    appCode,\n    sceneId\n  } = props;\n\n  function RenderQuota(props) {\n    const { min, max } = props;\n    const unitMap = {\n      \"3\": \"百\",\n      \"4\": \"千\",\n      \"5\": \"万\"\n    };\n    function formatAmount(n) {\n      const l = n.length;\n      if (l > 5) {\n        return n.slice(0, -4) + \"万\";\n      }\n      if (l < 3) {\n        return n;\n      }\n      return n[0] + unitMap[l];\n    }\n    const minText = formatAmount(min);\n    const maxText = formatAmount(max);\n    return (\n      <span className=\"product-quota-text\">\n        {minText}-{maxText}元\n      </span>\n    );\n  }\n\n  if (showModel) {\n    return (\n      <div className=\"product-model-wrapper\">\n        <div className=\"product-model-container\">\n          <button\n            className=\"product-model-close\"\n            onClick={() => handleModelClose()}\n          ></button>\n          <div className=\"product-model-header\"></div>\n          <div className=\"product-model-content\">\n            {productList.map((product, index) => {\n              return (\n                <button\n                  type=\"button\"\n                  className=\"product-item\"\n                  key={product.appCode}\n                >\n                  <div className=\"product-item-info\">\n                    <div>\n                      <img\n                        className=\"product-logo-pic\"\n                        src={product.appLogo}\n                        alt=\"\"\n                      />\n                    </div>\n                    <div className=\"product-intro\">\n                      <h4 className=\"product-title\">{product.appName}</h4>\n                      <p className=\"product-quota\">\n                        可借额度\n                        <RenderQuota\n                          min={\n                            Math.min(product.leastAmount, product.loanAmount) +\n                            \"\"\n                          }\n                          max={\n                            Math.max(product.leastAmount, product.loanAmount) +\n                            \"\"\n                          }\n                        />\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"product-item-apply\"></div>\n                </button>\n              );\n            })}\n          </div>\n        </div>\n        <div className=\"product-model-mask\"></div>\n      </div>\n    );\n  } else {\n    return null;\n  }\n}\n\nfunction RenderAmount(props) {\n  const { data, emitAmountChange } = props;\n  const [amount, setAmount] = useState(data.defaultLoanAmount);\n\n  function handleAmountChange(val) {\n    if (val < data.leastAmount || val > data.loanAmount) {\n      T.alert({\n        title: \"温馨提示\",\n        message: `申请金额必须为${data.leastAmount}-${data.loanAmount}元之间`\n      });\n      let newAmount =\n        data[val < data.leastAmount ? \"leastAmount\" : \"loanAmount\"];\n      setAmount(newAmount);\n      emitAmountChange(newAmount);\n    } else {\n      emitAmountChange(val);\n    }\n  }\n  function handleKeyPress(e) {\n    if (e.keyCode === 13) {\n      e.target.blur();\n    }\n  }\n  return (\n    <input\n      type=\"number\"\n      className=\"user-handle-input amount-input\"\n      value={amount}\n      pattern={\n        /iphone|ipad|ipod/i.test(window.navigator.userAgent) ? \"[0-9]*\" : \"d\"\n      }\n      onChange={e => setAmount(e.target.value)}\n      onBlur={e => handleAmountChange(e.target.value)}\n      onKeyPress={e => handleKeyPress(e.nativeEvent)}\n    />\n  );\n}\n","import fetch from \"../fetch\";\n\n// 获取页面数据\nexport function getDetailData(params) {\n  return fetch({\n    url: \"/mkt/app/detail/list\",\n    method: \"get\",\n    params,\n    useLoading: true\n  });\n}\n\n// 获取推荐产品列表\nexport function fetchRecommendProduct(params) {\n  return fetch({\n    url: \"/mkt/app/info/scene/hList\",\n    method: \"post\",\n    data: params,\n    useLoading: true\n  });\n}\n","import income from \"./income\";\n\nexport default {\n  income\n};\n","export default {\n  income: {\n    reg: /\\/mkt\\/app\\/detail\\/list/,\n    res: {\n      code: 200,\n      msg: \"操作成功\",\n      retData: {\n        appCode: '9flell5Up',\n        appName: \"德权钱包\",\n        appLabel: '极速下款',\n        appDesc: \"德权钱包由XXXX贷款代理有限公司运营，德权钱包服务由德权钱包运营者提供并受各自相应服务协议约束，德权钱包运营者可以根据业务发展需要，调整提供服务种类。\",\n        appInstitutionMobile: \"15800001111\",\n        appLogo: \"https://static.zhihu.com/heifetz/assets/logo.f6eef033.png\",\n        appProtocolUrl: \"http://www.baidu.com\",\n        defaultLoanAmount: 108,\n        defaultLoanCycle: \"M\",\n        defaultLoanPeriods: 12,\n        leastAmount: 0,\n        loanAmount: 10000,\n        loanCondition: ['手机号', '身份证号', '银行卡', '姓名'],\n        loanInterestRate: 1.3,\n        maxLoanPeriods: 12,\n        minLoanPeriods: 1\n      }\n    }\n  },\n  heihei: {\n    reg: /\\/mkt\\/app\\/info\\/scene\\/hList/,\n    res: {\n      retCode: '0000',\n      msg: \"操作成功\",\n      retData: [\n        {\n          appCode: 'lsadjiw',\n          appLogo: 'https://ss2.bdstatic.com/lfoZeXSm1A5BphGlnYG/icon/95486.png',\n          appName: \"度度钱包\",\n          leastAmount: 1000,\n          loanAmount: 100000\n        },\n        {\n          appCode: 'kscjhdw',\n          appLogo: 'https://ss3.bdstatic.com/yrwDcj7w0QhBkMak8IuT_XF5ehU5bvGh7c50/logopic/5eded8fb501c0aa2366948a0c0063c6b_fullsize.jpg@s_1,w_484,h_484',\n          appName: \"钱钱钱包\",\n          leastAmount: 2000,\n          loanAmount: 50000\n        },\n        {\n          appCode: 'pzunwmdi',\n          appLogo: 'https://ss1.baidu.com/70cFfyinKgQFm2e88IuM_a/forum/pic/item/714fc51190ef76c6bee77a1d9416fdfaaf516765.jpg',\n          appName: \"米米钱包\",\n          leastAmount: 1000,\n          loanAmount: 100000\n        }\n      ]\n    }\n  }\n};\n","import mockMap from './modules'\n// 使用 Mock\nconst Mock = require('mockjs')\n\nObject.keys(mockMap).forEach(moduleKey => {\n  const mod = mockMap[moduleKey]\n  Object.keys(mod).forEach(ruleKey => {\n    Mock.mock(mod[ruleKey].reg, mod[ruleKey].res)\n  })\n})\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"amfe-flexible\";\nimport App from \"./App\";\nimport \"./styles/main.scss\";\nimport Toast from \"react-toast-mobile\";\nimport \"react-toast-mobile/lib/react-toast-mobile.css\";\nimport './mock';\n\nReactDOM.render(\n  <div>\n    <Toast />\n    <App/>\n  </div>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}