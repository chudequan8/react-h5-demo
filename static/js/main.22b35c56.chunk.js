(window["webpackJsonprent-detail-h5"]=window["webpackJsonprent-detail-h5"]||[]).push([[0],{27:function(e,t,a){e.exports=a(64)},61:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(4),c=a.n(l),s=(a(32),a(24)),r=a(19),i=a(20),m=a(21),u=a(25),p=a(22),d=a(26),f=a(23),h=a.n(f),g=a(2),E=a.n(g),v=a(5),N=a.n(v);N.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),N.a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var b=N.a;function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y="appCode=9flell5Up&mobile=15267314928&userId=3769&sceneId=13".split("&"),L={};y.forEach((function(e){var t=e.split("=");L[t[0]]=t[1]}));var k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={pageData:{},isChecked:!0,isNewUser:!1,applyUrl:"",appCode:L.appCode,mobile:L.mobile,sceneId:L.sceneId,userId:L.userId,showModel:!1,productList:[],showFooter:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;L&&L.appCode?(g.T.loading(),(e={appCode:this.state.appCode},b({url:"/mkt/app/detail/list",method:"get",params:e,useLoading:!0})).then((function(e){g.T.loaded(),t.setState({pageData:e.retData||{appCode:L.appCode,appName:"",appLabel:"",appDesc:"",appInstitutionMobile:"",appLogo:"",appProtocolUrl:"",defaultLoanAmount:0,defaultLoanCycle:"M",defaultLoanPeriods:12,leastAmount:0,loanAmount:0,loanCondition:[],loanInterestRate:0,maxLoanPeriods:12,minLoanPeriods:1}},(function(){t.state.pageData.appName&&(document.title=t.state.pageData.appName),t.initTermSelect(),t.initFooterVisible()}))}))):g.T.notify("\u8bf7\u901a\u8fc7\u6b63\u786e\u7684\u94fe\u63a5\u8bbf\u95ee\u672c\u9875\u9762")}},{key:"initTermSelect",value:function(){for(var e=this,t=e.state.pageData.minLoanPeriods||0,a=e.state.pageData.maxLoanPeriods||0,n=[],o=0,l=a-t;o<=l;o++)n.push(o+t);new h.a({trigger:"#term-select",title:"\u9009\u62e9\u671f\u9650",wheels:[{data:n}],position:[2],callback:function(){e.setState({pageData:w({},e.state.pageData,{defaultLoanPeriods:Number(this.getCurValue()[0])})})},onShow:function(){this.locatePosition(0,n.findIndex((function(t){return e.state.pageData.defaultLoanPeriods===t})))},onHide:function(){}})}},{key:"initFooterVisible",value:function(){var e=this,t=document.documentElement.clientHeight||document.body.clientHeight,a=/android/i.test(window.navigator.userAgent);window.addEventListener("resize",(function(){(document.documentElement.clientHeight||document.body.clientHeight)-0<t-0?e.setState({showFooter:!1}):(e.setState({showFooter:!0}),a&&document.activeElement&&document.activeElement.blur())}))}},{key:"emitAmountChange",value:function(e){this.setState({pageData:w({},this.state.pageData,{defaultLoanAmount:Number(e)})})}},{key:"handleApply",value:function(){if(!this.state.isChecked)return g.T.alert({title:"\u6e29\u99a8\u63d0\u793a",message:"\u8bf7\u60a8\u5148\u540c\u610f\u7528\u6237\u6ce8\u518c\u534f\u8bae"}),!1;this.getRecommendProduct()}},{key:"getRecommendProduct",value:function(){var e,t=this;g.T.loading(),(e={sceneId:this.state.sceneId,userId:this.state.userId},b({url:"/mkt/app/info/scene/hList",method:"post",data:e,useLoading:!0})).then((function(e){g.T.loaded(),"0000"===e.retCode?t.setState({showModel:!0,productList:(e.retData||[]).filter((function(e){return e.appCode!==t.state.appCode})).slice(0,3)}):g.T.notify(e.retMsg||"\u83b7\u53d6\u4ea7\u54c1\u5217\u8868\u5931\u8d25")}))}},{key:"handleModelClose",value:function(){this.setState({showModel:!1})}},{key:"render",value:function(){var e=this,t=this.state.pageData;return t.appCode?o.a.createElement("div",{className:"app"},o.a.createElement("header",{className:"rent-header"},o.a.createElement("div",{className:"rent-logo"},o.a.createElement("img",{className:"rent-logo-pic",src:t.appLogo,alt:""})),o.a.createElement("div",{className:"rent-header-content"},o.a.createElement("p",{className:"rent-title"},t.appName),o.a.createElement("p",null,(t.appLabel||"").split("\uff0c").map((function(e){return o.a.createElement("span",{className:"rent-tag",key:e},e)}))))),o.a.createElement("section",{className:"rent-info-card"},o.a.createElement("div",{className:"user-handle"},o.a.createElement("div",{className:"user-handle-item amount"},o.a.createElement("p",{className:"rent-info-title"},"\u91d1\u989d(\u5143)"),o.a.createElement(I,{data:t,emitAmountChange:this.emitAmountChange.bind(this)})),o.a.createElement("div",{className:"user-handle-item term"},o.a.createElement("p",{className:"rent-info-title"},"\u671f\u9650(\u6708)"),o.a.createElement("p",{className:"user-handle-input",id:"term-select"},t.defaultLoanPeriods))),o.a.createElement("div",{className:"calc-container"},o.a.createElement(A,{amount:t.defaultLoanAmount,term:t.defaultLoanPeriods,interesRate:t.loanInterestRate}),o.a.createElement("div",{className:"calc-item"},o.a.createElement("p",{className:"calc-amount"},t.loanInterestRate,o.a.createElement("span",{className:"calc-amount-unit"},"%")),o.a.createElement("p",{className:"rent-info-title"},"\u53c2\u8003\u65e5\u5229\u7387")))),o.a.createElement("section",{className:"product-info-list"},t.loanCondition&&t.loanCondition.length?o.a.createElement("div",{className:"product-info-item"},o.a.createElement("h3",{className:"product-info-title"},"\u7533\u8bf7\u6761\u4ef6"),o.a.createElement("div",{className:"product-info-content condition-list"},t.loanCondition.map((function(e){return o.a.createElement("div",{className:"condition-item",key:e},e)})))):null,t.appDesc?o.a.createElement("div",{className:"product-info-item"},o.a.createElement("h3",{className:"product-info-title"},"\u4ea7\u54c1\u4ecb\u7ecd"),o.a.createElement("div",{className:"product-info-content"},t.appDesc)):null,t.appInstitutionMobile?o.a.createElement("div",{className:"product-info-item"},o.a.createElement("h3",{className:"product-info-title"},"\u673a\u6784\u7535\u8bdd"),o.a.createElement("div",{className:"product-info-content"},t.appInstitutionMobile)):null),this.state.showFooter?o.a.createElement("footer",{className:"rent-footer"},t.appProtocolUrl?o.a.createElement("p",{className:"rent-agreement"},o.a.createElement("button",{className:this.state.isChecked?"rent-agreement-icon checked":"rent-agreement-icon",onClick:function(){return e.setState({isChecked:!e.state.isChecked})}}),o.a.createElement("span",null,"\u6211\u5df2\u540c\u610f\u5e76\u9605\u8bfb"),o.a.createElement("a",{className:"rent-agreement-link",href:t.appProtocolUrl},"\u300a\u7528\u6237\u6ce8\u518c\u534f\u8bae\u300b")):null,o.a.createElement("button",{className:"apply-btn",onClick:function(){return e.handleApply()}},"\u7acb\u5373\u7533\u8bf7")):null,o.a.createElement(P,{showModel:this.state.showModel,productList:this.state.productList,handleModelClose:this.handleModelClose.bind(this),userId:this.state.userId,appCode:this.state.appCode,sceneId:this.state.sceneId})):null}}]),t}(n.Component);function A(e){var t=e.amount,a=e.term,n=t*a*30*e.interesRate/100,l=n.toFixed(2).toString().split("."),c=((t+n)/a).toFixed(2).toString().split(".");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"calc-item"},o.a.createElement("p",{className:"calc-amount"},l[0],o.a.createElement("span",{className:"calc-amount-unit"},".",l[1])),o.a.createElement("p",{className:"rent-info-title"},"\u9884\u4f30\u5229\u606f")),o.a.createElement("div",{className:"calc-item"},o.a.createElement("p",{className:"calc-amount"},c[0],o.a.createElement("span",{className:"calc-amount-unit"},".",c[1])),o.a.createElement("p",{className:"rent-info-title"},"\u6708\u5747\u8fd8\u6b3e")))}function P(e){var t=e.showModel,a=e.handleModelClose,n=e.productList;e.userId,e.appCode,e.sceneId;function l(e){var t=e.min,a=e.max,n={3:"\u767e",4:"\u5343",5:"\u4e07"};function l(e){var t=e.length;return t>5?e.slice(0,-4)+"\u4e07":t<3?e:e[0]+n[t]}var c=l(t),s=l(a);return o.a.createElement("span",{className:"product-quota-text"},c,"-",s,"\u5143")}return t?o.a.createElement("div",{className:"product-model-wrapper"},o.a.createElement("div",{className:"product-model-container"},o.a.createElement("button",{className:"product-model-close",onClick:function(){return a()}}),o.a.createElement("div",{className:"product-model-header"}),o.a.createElement("div",{className:"product-model-content"},n.map((function(e,t){return o.a.createElement("button",{type:"button",className:"product-item",key:e.appCode},o.a.createElement("div",{className:"product-item-info"},o.a.createElement("div",null,o.a.createElement("img",{className:"product-logo-pic",src:e.appLogo,alt:""})),o.a.createElement("div",{className:"product-intro"},o.a.createElement("h4",{className:"product-title"},e.appName),o.a.createElement("p",{className:"product-quota"},"\u53ef\u501f\u989d\u5ea6",o.a.createElement(l,{min:Math.min(e.leastAmount,e.loanAmount)+"",max:Math.max(e.leastAmount,e.loanAmount)+""})))),o.a.createElement("div",{className:"product-item-apply"}))})))),o.a.createElement("div",{className:"product-model-mask"})):null}function I(e){var t=e.data,a=e.emitAmountChange,l=Object(n.useState)(t.defaultLoanAmount),c=Object(s.a)(l,2),r=c[0],i=c[1];return o.a.createElement("input",{type:"number",className:"user-handle-input amount-input",value:r,pattern:/iphone|ipad|ipod/i.test(window.navigator.userAgent)?"[0-9]*":"d",onChange:function(e){return i(e.target.value)},onBlur:function(e){return function(e){if(e<t.leastAmount||e>t.loanAmount){g.T.alert({title:"\u6e29\u99a8\u63d0\u793a",message:"\u7533\u8bf7\u91d1\u989d\u5fc5\u987b\u4e3a".concat(t.leastAmount,"-").concat(t.loanAmount,"\u5143\u4e4b\u95f4")});var n=t[e<t.leastAmount?"leastAmount":"loanAmount"];i(n),a(n)}else a(e)}(e.target.value)},onKeyPress:function(e){return function(e){13===e.keyCode&&e.target.blur()}(e.nativeEvent)}})}a(61),a(62);var j={income:{income:{reg:/\/mkt\/app\/detail\/list/,res:{code:200,msg:"\u64cd\u4f5c\u6210\u529f",retData:{appCode:"9flell5Up",appName:"\u5fb7\u6743\u94b1\u5305",appLabel:"\u6781\u901f\u4e0b\u6b3e",appDesc:"\u5fb7\u6743\u94b1\u5305\u7531XXXX\u8d37\u6b3e\u4ee3\u7406\u6709\u9650\u516c\u53f8\u8fd0\u8425\uff0c\u5fb7\u6743\u94b1\u5305\u670d\u52a1\u7531\u5fb7\u6743\u94b1\u5305\u8fd0\u8425\u8005\u63d0\u4f9b\u5e76\u53d7\u5404\u81ea\u76f8\u5e94\u670d\u52a1\u534f\u8bae\u7ea6\u675f\uff0c\u5fb7\u6743\u94b1\u5305\u8fd0\u8425\u8005\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u53d1\u5c55\u9700\u8981\uff0c\u8c03\u6574\u63d0\u4f9b\u670d\u52a1\u79cd\u7c7b\u3002",appInstitutionMobile:"15800001111",appLogo:"https://static.zhihu.com/heifetz/assets/logo.f6eef033.png",appProtocolUrl:"http://www.baidu.com",defaultLoanAmount:108,defaultLoanCycle:"M",defaultLoanPeriods:12,leastAmount:0,loanAmount:1e4,loanCondition:["\u624b\u673a\u53f7","\u8eab\u4efd\u8bc1\u53f7","\u94f6\u884c\u5361","\u59d3\u540d"],loanInterestRate:1.3,maxLoanPeriods:12,minLoanPeriods:1}}},heihei:{reg:/\/mkt\/app\/info\/scene\/hList/,res:{retCode:"0000",msg:"\u64cd\u4f5c\u6210\u529f",retData:[{appCode:"lsadjiw",appLogo:"https://ss2.bdstatic.com/lfoZeXSm1A5BphGlnYG/icon/95486.png",appName:"\u5ea6\u5ea6\u94b1\u5305",leastAmount:1e3,loanAmount:1e5},{appCode:"kscjhdw",appLogo:"https://ss3.bdstatic.com/yrwDcj7w0QhBkMak8IuT_XF5ehU5bvGh7c50/logopic/5eded8fb501c0aa2366948a0c0063c6b_fullsize.jpg@s_1,w_484,h_484",appName:"\u94b1\u94b1\u94b1\u5305",leastAmount:2e3,loanAmount:5e4},{appCode:"pzunwmdi",appLogo:"https://ss1.baidu.com/70cFfyinKgQFm2e88IuM_a/forum/pic/item/714fc51190ef76c6bee77a1d9416fdfaaf516765.jpg",appName:"\u7c73\u7c73\u94b1\u5305",leastAmount:1e3,loanAmount:1e5}]}}}},D=a(63);Object.keys(j).forEach((function(e){var t=j[e];Object.keys(t).forEach((function(e){D.mock(t[e].reg,t[e].res)}))})),c.a.render(o.a.createElement("div",null,o.a.createElement(E.a,null),o.a.createElement(k,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.22b35c56.chunk.js.map